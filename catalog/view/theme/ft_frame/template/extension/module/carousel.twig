<div id="carousel-{{ module }}" class="mb-3">
  <div class="position-relative overflow-hidden border rounded">
    <div class="owl-carousel">
  		{% for banner in banners %}
      <div class="d-flex justify-content-center">
        {% if banner.link %}
        <a href="{{ banner.link }}">
        {% endif %}
        <div class="position-relative">
          <svg class="d-block img-fluid" width="{{ banner.img_width }}" height="{{ banner.img_height }}" xmlns="http://www.w3.org/2000/svg"></svg>
          <img src="{{ banner.thumb_holder }}" data-src="{{ banner.image }}" alt="{{ banner.title }}" class="position-absolute t-0 l-0 img-fluid d-block w-100 owl-lazy" />
          <div class="d-flex justify-content-center align-items-center position-absolute t-0 b-0 r-0 l-0 w-100 h-100 lazy-spinner">
            <div class="spinner-border text-gray-400"></div>
          </div>
        </div>
        {% if banner.link %}
        </a>
        {% endif %}
      </div>
      {% endfor %}
  	</div>
    <button class="btn btn-next position-absolute t-50p r-0 p-0 rounded-pill z-index-2 mt-n3 mr-3">
      <svg class="d-block ft-icon-24 m-0 text-gray-500 darker-on-hover" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path>
      </svg>
    </button>
    <button class="btn btn-prev position-absolute t-50p l-0 p-0 rounded-pill z-index-2 mt-n3 ml-3">
      <svg class="d-block ft-icon-24 m-0 text-gray-500 darker-on-hover" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path>
      </svg>
    </button>
  </div>
</div>
<script>
	$(function () {
		var owl_carousel_{{ module }} = $('#carousel-{{ module }} .owl-carousel');

		owl_carousel_{{ module }}.owlCarousel({
      mouseDrag: false,
      touchDrag: true,
			responsive:{
	      0:		{items: 2},
				380:	{items: 3},
				576:	{items: 4},
				768:	{items: 5},
	      992:	{items: 6},
	      1200:	{items: 6}
	    },
      stageClass: 'owl-stage d-flex justify-content-start align-items-center',
      itemClass: 'owl-item float-none',
      loop: false,
      rewind: true,
			nav: false,
			dots: false,
			autoplay: false,
      lazyLoad: true,
      lazyLoadEager: 0,
      onLoadedLazy: function(e) { e.element.parent().parent().find('.lazy-spinner').remove() }
		});

		$('#carousel-{{ module }} .btn-prev').click(function() { owl_carousel_{{ module }}.trigger('prev.owl.carousel'); });
		$('#carousel-{{ module }} .btn-next').click(function() { owl_carousel_{{ module }}.trigger('next.owl.carousel'); });
	});
</script>
